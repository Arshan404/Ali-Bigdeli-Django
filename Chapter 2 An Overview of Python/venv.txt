محیط مجازی پایتون
یک محیط مجازی ابزاری است که به کمک آن می‌توان وابستگی‌های مورد نیاز پروژه‌های مختلف را با ایجاد محیط مجازی پایتون جدا برای آنها ساده‌تر و مجزا کرد. Virtualenv  یکی از مهم‌ترین ابزاری است که بیشتر توسعه دهندگان پایتون از آن استفاده می‌کنند.
چرا ما به یک محیط مجازی نیاز داریم؟
یک سناریو را تصور کنید که در حال کاربر روی دو پروژه پایتون مبتنی بر وب هستید و یکی از آنها Django 2.2 و دیگری از Django 3.2 و غیره استفاده می‌کند. در چنین شرایطی محیط مجازی می‌تواند برای حفظ وابستگی هر دو پروژه بسیار مفید باشد.

 

چه موقع و کجا می‌توان از محیط مجازی استفاده کرد؟
به طور پیش‌فرض، هر پروژه‌ای در سیستم شما از همین فهرست‌ها برای ذخیره و بازیابی بسته‌های سایت (کتابخانه‌های شخص ثالث) استفاده خواهد کرد. این چه اهمیتی دارد؟ اکنون، در مثال بالا از دو پروژه، شما دو نسخه از جنگو را دارید. این یک مشکل واقعی برای پایتون است زیرا نمی‌توانند بین نسخه‌های موجود در فهرست "site-packages" تفاوت قائل شود. دو ورژن یاد شده هر دو در یک دایرکتوری با همان نام قرار دارند. اینجاست که محیط‌های مجازی وارد عمل می‌شوند. برای حل این مشکل، فقط باید دو محیط مجازی مجزا برای هر دو پروژه ایجاد کنیم. نکته قابل توجه در این مورد این است که هیچ محدودیتی در تعداد محیط‌هایی که می‌توانید داشته باشید وجود ندارد.

 

از محیط مجازی باید هر زمان که روی پروژه مبتنی بر پایتون کار می‌کنید استفاده شود. به‌طورکلی داشتن یک محیط مجازی جدید برای هر پروژه مبتنی بر Python که روی آن کار می‌کنید خوب است؛ بنابراین وابستگی‌های هر پروژه از سیستم و یکدیگر جدا شده است.

 

محیط مجازی چگونه کار می‌کند؟
ما از ماژولی به نام virtualenv استفاده می‌کنیم که ابزاری برای ایجاد محیط‌های جداگانه Python است. virtualenv پوشه‌ای ایجاد می‌کند که شامل تمام اجرایی‌های لازم برای استفاده از بسته‌های مورد نیاز یک پروژه پایتون است.

 

نصب ماژول virtualenv  می‌توانید از طریق زیر میسر شود:

 

pip install virtualenv
 

برای راه‌اندازی محیط مجازی خود می‌بایست ابتدا یک محیط خط فرمان در پوشه موردنظر باز کنید و سپس با استفاده از دستور زیر اقدام به ساخت یک محیط مجازی نمایید.

 

python –m venv name_of_enviroment
 

اما پس از راه‌اندازی می‌بایست محیط مجازی خود را فعال کنید که با دستور زیر این امکان برای شما فراهم خواهد که، درک فعال بودن یا نبودن محیط مجازی به اسم محیط مجازی ساخته شده در داخل پرانتز قبل از اندیکاتور نمایش‌دهنده فولدر برمی‌گردد.

 

\venv\Scripts\activate
Source /venv/bin/activate
 

پس از نصب و راه‌اندازی و استفاده از محیط مجازی خود لازم می‌شود که محیط را غیر فال هم بنمایید که در این صورت با استفاده از دستوری زیر صورت می‌گیرد.

deactivate